@{
    ViewData["Title"] = "Here the Stock information you wanted to see";
    var searchString = Context.Request.Query["searchString"];///burda stockControllera yollanan http isteğindeki searchString parametresi değerini alır.
}
@model StockWebApi.Models.Stock
@if(Model==null)
{
<p>Stock data could not be retrieved.</p>
}
else
{
    //<div class="row">
        //<div class=" col-md-6">
            //<form class="d-flex" asp-action="Index" asp-controller="Stock">
                //<input name="searchString" class="form-check carousel-control-next me-1" type="search" placeholder="Search" aria-label="Search" />
                //<button class="btn btn-dark" type="submit">Search by name</button>
            //</form>
        //</div>
    //</div>
    <!-- TradingView Widget BEGIN -->
    <div class="tradingview-widget-container">
        <div class="tradingview-widget-container__widget"></div>
        <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank"><span class="blue-text">Track all markets on TradingView</span></a></div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js" async>
              {
              "symbols": [
                [

                  ["@searchString", "@searchString|1D"]
                ]
            
                  "Apple",
                  "AAPL|1D"
                ],
                [
                  "Google",
                  "GOOGL|1D"
                ],
                [
                  "Microsoft",
                  "MSFT|1D"
                ],
                [
                  "NASDAQ:NVDA|1D"
                ]

              ],
              "chartOnly": false,
              "width": "100%",
              "height": "100%",
              "locale": "en",
              "colorTheme": "light",
              "autosize": true,
              "showVolume": false,
              "showMA": false,
              "hideDateRanges": false,
              "hideMarketStatus": false,
              "hideSymbolLogo": false,
              "scalePosition": "right",
              "scaleMode": "Normal",
              "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",
              "fontSize": "10",
              "noTimeScale": false,
              "valuesTracking": "1",
              "changeMode": "price-and-percent",
              "chartType": "area",
              "maLineColor": "#2962FF",
              "maLineWidth": 1,
              "maLength": 9,
              "headerFontSize": "medium",
              "lineWidth": 2,
              "lineType": 0,
              "dateRanges": [
                "1d|1",
                "1m|30",
                "3m|60",
                "12m|1D",
                "60m|1W",
                "all|1M"
              ]
            }
        </script>
    </div>
    <!-- TradingView Widget END -->
<div>
    <h3>Stock Information</h3>
    <p>Current Price: @Model.c</p>
    <p>Change of the Day: @Model.d</p>
    <p>Percent change of the Day: @Model.dp</p>
    <p>High Price: @Model.h</p>
    <p>Low Price: @Model.l</p>
    <p>Open Price: @Model.o</p>
    <p>Previous Close Price: @Model.pc</p>
</div>


}

